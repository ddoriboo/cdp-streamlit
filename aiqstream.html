<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDP AI ìì—°ì–´ ì¿¼ë¦¬ í”Œë«í¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .api-key-section {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            margin: 20px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .api-key-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }
        
        .api-key-header:hover {
            background: rgba(255, 193, 7, 0.1);
        }
        
        .api-key-header h4 {
            margin: 0;
        }
        
        .toggle-icon {
            font-size: 14px;
            transition: transform 0.3s ease;
            color: #856404;
        }
        
        .toggle-icon.collapsed {
            transform: rotate(-90deg);
        }
        
        .api-key-content {
            padding: 0 20px 20px 20px;
            max-height: 300px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .api-key-content.collapsed {
            max-height: 0;
            padding: 0 20px;
        }
        
        .api-key-container {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 10px;
        }
        
        .api-key-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
        }
        
        .api-key-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .api-key-status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .api-key-status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .api-key-status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tab-container {
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .tab-nav {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .tab-button {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .tab-button:hover {
            background: #e9ecef;
        }
        
        .tab-button.active {
            background: white;
            border-bottom-color: #4CAF50;
            color: #4CAF50;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* ì¿¼ë¦¬ ë¶„ì„ê¸° ìŠ¤íƒ€ì¼ (ê¸°ì¡´) */
        .query-input-container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .query-input {
            width: 100%;
            padding: 20px 60px 20px 20px;
            font-size: 18px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            outline: none;
            transition: border-color 0.3s ease;
            background: white;
        }
        
        .query-input:focus {
            border-color: #4CAF50;
        }
        
        .query-input::placeholder {
            color: #6c757d;
        }
        
        .query-button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .query-button:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .query-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: translateY(-50%);
        }
        
        .query-examples {
            margin-top: 20px;
            text-align: center;
        }
        
        .example-tag {
            display: inline-block;
            background: white;
            color: #495057;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            border: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .example-tag:hover {
            background: #4CAF50;
            color: white;
            transform: translateY(-2px);
        }
        
        /* ì»¬ëŸ¼ ë¸Œë¼ìš°ì € ìŠ¤íƒ€ì¼ */
        .column-browser {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .search-box {
            margin-bottom: 30px;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #4CAF50;
        }
        
        .category-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .filter-btn.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }
        
        .column-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .column-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .column-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #4CAF50;
        }
        
        .column-card-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .column-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .column-category {
            background: #e9ecef;
            color: #6c757d;
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 10px;
            margin-left: auto;
        }
        
        .column-description {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        .column-meta {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: #8e8e8e;
        }
        
        .column-type {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* íŒ€ë³„ ì¶”ì²œ ìŠ¤íƒ€ì¼ */
        .team-recommendations {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* íŒ€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .team-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .team-button {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .team-button:hover {
            border-color: #4CAF50;
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .team-button .name {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .team-button .role {
            font-size: 14px;
            color: #6c757d;
        }
        
        /* ì¶”ì²œ ì§ˆë¬¸ ìŠ¤íƒ€ì¼ */
        .recommended-questions {
            display: none;
            margin-top: 30px;
        }
        
        .recommended-questions.active {
            display: block;
        }
        
        .recommended-questions h3 {
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 1.3em;
        }
        
        .question-list {
            display: grid;
            gap: 15px;
        }
        
        .question-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #4CAF50;
        }
        
        .question-card:hover {
            background: #f8f9fa;
            border-color: #4CAF50;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .question-text {
            font-size: 16px;
            color: #2c3e50;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .question-desc {
            font-size: 14px;
            color: #6c757d;
            line-height: 1.4;
        }
        
        .question-tags {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        .question-tag {
            background: #e9ecef;
            color: #495057;
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        .team-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .team-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .team-card.marketing {
            border-left: 5px solid #e74c3c;
        }
        
        .team-card.sales {
            border-left: 5px solid #3498db;
        }
        
        .team-card.product {
            border-left: 5px solid #f39c12;
        }
        
        .team-card.finance {
            border-left: 5px solid #9b59b6;
        }
        
        .team-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .team-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .team-icon.marketing {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        .team-icon.sales {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .team-icon.product {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }
        
        .team-icon.finance {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }
        
        .team-name {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .team-scenarios {
            display: none;
            margin-top: 30px;
        }
        
        .team-scenarios.active {
            display: block;
        }
        
        .scenario-list {
            display: grid;
            gap: 15px;
        }
        
        .scenario-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .scenario-card:hover {
            background: white;
            border-color: #4CAF50;
            transform: translateX(5px);
        }
        
        .scenario-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .scenario-description {
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .scenario-metrics {
            display: flex;
            gap: 15px;
            font-size: 12px;
        }
        
        .scenario-metric {
            background: white;
            padding: 5px 10px;
            border-radius: 15px;
            border: 1px solid #dee2e6;
        }
        
        /* ê³µí†µ ìŠ¤íƒ€ì¼ */
        .results-container {
            display: none;
        }
        
        .results-container.active {
            display: block;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .analysis-result {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #4CAF50;
        }
        
        .analysis-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .analysis-title::before {
            content: "ğŸ¯";
            margin-right: 10px;
        }
        
        .column-recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .column-group {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }
        
        .column-group h4 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }
        
        .column-item {
            background: #f8f9fa;
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 3px solid #4CAF50;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .column-score {
            background: #4CAF50;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .reasoning-section {
            background: linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .reasoning-section h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .reasoning-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 3px solid rgba(255, 255, 255, 0.3);
        }
        
        .sql-section {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .sql-section h4 {
            margin-bottom: 15px;
            color: #ecf0f1;
        }
        
        .sql-query {
            background: #34495e;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .copy-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 12px;
        }
        
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .export-section {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .export-button {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        .export-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
        }
        
        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #dc3545;
        }
        
        .disabled {
            opacity: 0.5;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .tab-nav {
                flex-direction: column;
            }
            
            .column-cards {
                grid-template-columns: 1fr;
            }
            
            .team-cards {
                grid-template-columns: 1fr;
            }
            
            .column-recommendations {
                grid-template-columns: 1fr;
            }
            
            .stats-section {
                grid-template-columns: 1fr;
            }
            
            .query-input {
                font-size: 16px;
                padding: 15px 50px 15px 15px;
            }
            
            .api-key-container {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ CDP x LLM Test</h1>
            <p>AI ê¸°ë°˜ ê³ ê° ì„¸ê·¸ë¨¼í…Œì´ì…˜ Â· ì»¬ëŸ¼ íƒìƒ‰ Â· íŒ€ë³„ ë§ì¶¤ ì¶”ì²œ</p>
        </div>
        
        <div class="api-key-section">
            <div class="api-key-header" onclick="toggleApiKeySection()">
                <h4>ğŸ”‘ API í‚¤ ì„¤ì •</h4>
                <span class="toggle-icon collapsed" id="toggleIcon">â–¼</span>
            </div>
            <div class="api-key-content collapsed" id="apiKeyContent">
                <p>ì‹¤ì œ AI ë¶„ì„ì„ ìœ„í•´ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (<a href="https://platform.openai.com/api-keys" target="_blank">API í‚¤ ë°œê¸‰ë°›ê¸°</a>)</p>
                <div class="api-key-container">
                    <input type="password" 
                           class="api-key-input" 
                           id="apiKeyInput" 
                           placeholder="sk-proj-ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” OpenAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <button class="api-key-button" onclick="saveApiKey()">ì €ì¥</button>
                </div>
                <div class="api-key-status" id="apiKeyStatus"></div>
            </div>
        </div>
        
        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" onclick="switchTab('analyzer')">
                    ğŸ” ì¿¼ë¦¬ ë¶„ì„ê¸°
                </button>
                <button class="tab-button" onclick="switchTab('browser')">
                    ğŸ“Š ì»¬ëŸ¼ ë¸Œë¼ìš°ì €
                </button>
                <button class="tab-button" onclick="switchTab('teams')">
                    ğŸ‘¥ íŒ€ë³„ ì¶”ì²œ
                </button>
            </div>
        </div>
        
        <!-- ì¿¼ë¦¬ ë¶„ì„ê¸° íƒ­ -->
        <div class="tab-content active" id="analyzer-tab">
            <div id="querySection">
                <div class="query-input-container">
                    <input type="text" 
                           class="query-input" 
                           id="queryInput" 
                           placeholder="ì˜ˆ: ëŒ€ì¶œ ë‹ˆì¦ˆê°€ ë†’ì€ ê³ ê°êµ° ì•Œë ¤ì¤˜, ì Šì€ ì—¬ì„± ì¤‘ ë·°í‹° ê´€ì‹¬ì‚¬ê°€ ë†’ì€ ê³ ê° ì°¾ì•„ì¤˜"
                           onkeypress="handleKeyPress(event)">
                    <button class="query-button" id="queryButton" onclick="processQuery()">
                        ğŸ” ë¶„ì„
                    </button>
                </div>
                
                <div class="query-examples">
                    <div class="example-tag" onclick="setExampleQuery('ëŒ€ì¶œ ë‹ˆì¦ˆê°€ ë†’ì€ ê³ ê°êµ° ì•Œë ¤ì¤˜')">
                        ğŸ’° ëŒ€ì¶œ ë‹ˆì¦ˆ ê³ ê°
                    </div>
                    <div class="example-tag" onclick="setExampleQuery('20-30ëŒ€ ì—¬ì„± ì¤‘ ë·°í‹°ì— ê´€ì‹¬ì´ ë§ì€ ê³ ê°')">
                        ğŸ’„ ë·°í‹° ê´€ì‹¬ ì—¬ì„±
                    </div>
                    <div class="example-tag" onclick="setExampleQuery('ê³ ì†Œë“ì¸µ ì¤‘ íˆ¬ì ìƒí’ˆì— ê´€ì‹¬ìˆëŠ” ê³ ê°')">
                        ğŸ“ˆ íˆ¬ì ê´€ì‹¬ ê³ ê°
                    </div>
                    <div class="example-tag" onclick="setExampleQuery('í•´ì™¸ì—¬í–‰ì„ ìì£¼ ê°€ëŠ” ê³ ê° ì¤‘ ë³´í—˜ ê°€ì… ê°€ëŠ¥ì„±ì´ ë†’ì€ ì‚¬ëŒ')">
                        âœˆï¸ ì—¬í–‰ìë³´í—˜ ëŒ€ìƒ
                    </div>
                    <div class="example-tag" onclick="setExampleQuery('1ì¸ ê°€êµ¬ ì¤‘ ë°°ë‹¬ìŒì‹ì„ ìì£¼ ì‹œí‚¤ëŠ” ê³ ê°')">
                        ğŸ  1ì¸ê°€êµ¬ ë°°ë‹¬ì¡±
                    </div>
                    <div class="example-tag" onclick="setExampleQuery('ê³¨í”„ë¥¼ ì¹˜ëŠ” ê³ ê° ì¤‘ í”„ë¦¬ë¯¸ì—„ ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥ì„±ì´ ë†’ì€ ì‚¬ëŒ')">
                        â›³ ê³¨í”„ VIP ê³ ê°
                    </div>
                </div>
            </div>
            
            <div class="loading" id="loadingSection">
                <div class="spinner"></div>
                <p>ğŸ¤– ì‹¤ì œ AIê°€ CDP ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ê³ ê° ì„¸ê·¸ë¨¼í…Œì´ì…˜ ì „ëµì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
            </div>
            
            <div class="results-container" id="resultsContainer">
                <div id="analysisResults"></div>
            </div>
        </div>
        
        <!-- ì»¬ëŸ¼ ë¸Œë¼ìš°ì € íƒ­ -->
        <div class="tab-content" id="browser-tab">
            <div class="column-browser">
                <h2>ğŸ“Š CDP ì»¬ëŸ¼ ë¸Œë¼ìš°ì €</h2>
                <p style="margin-bottom: 30px; color: #6c757d;">CDP ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ì»¬ëŸ¼ì„ íƒìƒ‰í•˜ê³  í™œìš©ë²•ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                
                <div class="search-box">
                    <input type="text" 
                           class="search-input" 
                           id="columnSearch" 
                           placeholder="ì»¬ëŸ¼ëª…ì´ë‚˜ ì„¤ëª…ìœ¼ë¡œ ê²€ìƒ‰..."
                           oninput="filterColumns()">
                </div>
                
                <div class="category-filter">
                    <button class="filter-btn active" onclick="filterByCategory('all')">ì „ì²´</button>
                    <button class="filter-btn" onclick="filterByCategory('interests')">ê´€ì‹¬ì‚¬ ì§€í‘œ</button>
                    <button class="filter-btn" onclick="filterByCategory('industries')">ì—…ì¢…ë³„ ì§€í‘œ</button>
                    <button class="filter-btn" onclick="filterByCategory('scores')">ì˜ˆì¸¡ ìŠ¤ì½”ì–´</button>
                    <button class="filter-btn" onclick="filterByCategory('flags')">í”Œë˜ê·¸ ì§€í‘œ</button>
                </div>
                
                <div class="column-cards" id="columnCards">
                    <!-- ì»¬ëŸ¼ ì¹´ë“œë“¤ì´ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
        
        <!-- íŒ€ë³„ ì¶”ì²œ íƒ­ -->
        <div class="tab-content" id="teams-tab">
            <div class="team-recommendations">
                <h2>ğŸ‘¥ íŒ€ë³„ ë§ì¶¤ ì¶”ì²œ ì§ˆë¬¸</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">ê° ë‹´ë‹¹ìë‹˜ì˜ ì—…ë¬´ ì˜ì—­ì— íŠ¹í™”ëœ ì§ˆë¬¸ë“¤ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</p>
                
                <div class="team-buttons">
                    <button class="team-button" onclick="showTeamQuestions('financial-content')">
                        <div class="name">ğŸ’° ì •ì„ ì˜ë‹˜</div>
                        <div class="role">ê¸ˆìœµ ì»¨í…ì¸  (ë¨¸ë‹ˆìŠ¤í† ë¦¬)</div>
                    </button>
                    <button class="team-button" onclick="showTeamQuestions('member-planning')">
                        <div class="name">ğŸ‘¥ ë°•ì§€ì˜ë‹˜</div>
                        <div class="role">íšŒì› í”Œë˜ë‹</div>
                    </button>
                    <button class="team-button" onclick="showTeamQuestions('myasset')">
                        <div class="name">ğŸ¦ ê¹€ì •í¬ë‹˜</div>
                        <div class="role">ë‚´ìì‚° í”Œë˜ë‹ (ë§ˆì´ë°ì´í„°)</div>
                    </button>
                    <button class="team-button" onclick="showTeamQuestions('advertising')">
                        <div class="name">ğŸ“¢ ê³ ì‹œí˜„ë‹˜</div>
                        <div class="role">AD ì„œë¹„ìŠ¤</div>
                    </button>
                    <button class="team-button" onclick="showTeamQuestions('payment')">
                        <div class="name">ğŸ’³ ìµœë™ì£¼ë‹˜</div>
                        <div class="role">ê²°ì œ ë°ì´í„°</div>
                    </button>
                    <button class="team-button" onclick="showTeamQuestions('loan')">
                        <div class="name">ğŸ  ì´ìŠ¹í•œë‹˜</div>
                        <div class="role">ëŒ€ì¶œ ì„œë¹„ìŠ¤</div>
                    </button>
                </div>
                
                <div class="recommended-questions" id="teamQuestions">
                    <!-- ì¶”ì²œ ì§ˆë¬¸ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // CDP ì»¬ëŸ¼ ì •ì˜
        const CDP_COLUMNS = {
            interests: {
                'fa_int_householdsingle': '1ì¸ ê°€êµ¬ ê´€ë ¨ ìƒí’ˆ ê²°ì œ',
                'fa_int_householdpet': 'ë°˜ë ¤ë™ë¬¼ ê´€ë ¨ ìƒí’ˆ ê²°ì œ',
                'fa_int_householdchild': 'ì–´ë¦°ì´ ê´€ë ¨ ìƒí’ˆ ê²°ì œ',
                'fa_int_householdbaby': 'ì˜ìœ ì•„ ê´€ë ¨ ìƒí’ˆ ê²°ì œ',
                'fa_int_loan1stfinancial': '1ê¸ˆìœµê¶Œ ì‹ ìš©ëŒ€ì¶œ ì‹¤í–‰',
                'fa_int_loan2ndfinancial': '2ê¸ˆìœµê¶Œ ì‹ ìš©ëŒ€ì¶œ ì‹¤í–‰',
                'fa_int_loanpersonal': 'ì‹ ìš©ëŒ€ì¶œ ì‹¤í–‰',
                'fa_int_saving': 'ì˜ˆì ê¸ˆ ê°œì„¤',
                'fa_int_homeappliance': 'ê°€ì „ ìƒí’ˆ ê²°ì œ',
                'fa_int_luxury': 'ëª…í’ˆ ê´€ë ¨ ê²°ì œ',
                'fa_int_delivery': 'ë°°ë‹¬ ê²°ì œ',
                'fa_int_carinsurance': 'ìë™ì°¨ ë³´í—˜ ê²°ì œ ì˜ˆì •',
                'fa_int_carpurchase': 'ì°¨ëŸ‰ êµ¬ë§¤',
                'fa_int_traveloverseas': 'í•´ì™¸ì—¬í–‰ ì˜ˆì •',
                'fa_int_traveldomestic': 'êµ­ë‚´ì—¬í–‰',
                'fa_int_golf': 'ê³¨í”„ ê´€ë ¨ ê²°ì œ',
                'fa_int_gym': 'í”¼íŠ¸ë‹ˆìŠ¤/í—¬ìŠ¤ì¥ ê²°ì œ',
                'fa_int_wedding': 'ê²°í˜¼ ì¤€ë¹„ ê´€ë ¨',
                'fa_int_highincome': 'ì¶”ì •ì†Œë“ 1ì–µ ì´ìƒ',
                'fa_int_homeowner': 'ì£¼íƒ ì†Œìœ ',
                'fa_int_business': 'ì‚¬ì—…ì',
                'fa_int_worker': 'ì •ê¸° ê¸‰ì—¬ ìˆ˜ë ¹'
            },
            industries: {
                'fa_ind_finance': 'ê¸ˆìœµ ê²°ì œ',
                'fa_ind_insurance': 'ë³´í—˜ ê²°ì œ',
                'fa_ind_beauty': 'ë¯¸ìš© ê²°ì œ',
                'fa_ind_medical': 'ì˜ë£Œ ê²°ì œ',
                'fa_ind_travel': 'ì—¬í–‰ ê²°ì œ',
                'fa_ind_foodbeverage': 'F&B ê²°ì œ',
                'fa_ind_cafe': 'ì¹´í˜ ê²°ì œ',
                'fa_ind_restaurant': 'ìŒì‹ì  ê²°ì œ',
                'fa_ind_delivery': 'ë°°ë‹¬ ê²°ì œ',
                'fa_ind_cosmetic': 'ë·°í‹° ê²°ì œ',
                'fa_ind_fashion': 'íŒ¨ì…˜ì˜ë¥˜ ê²°ì œ',
                'fa_ind_digitalappliances': 'ë””ì§€í„¸ê°€ì „ ê²°ì œ',
                'fa_ind_education': 'êµìœ¡ ê²°ì œ',
                'fa_ind_golfcourse': 'ê³¨í”„ì¥ ê²°ì œ',
                'fa_ind_fitness': 'í”¼íŠ¸ë‹ˆìŠ¤ ê²°ì œ'
            },
            scores: {
                'sc_int_loan1stfinancial': '1ê¸ˆìœµê¶Œ ëŒ€ì¶œ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_loan2ndfinancial': '2ê¸ˆìœµê¶Œ ëŒ€ì¶œ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_luxury': 'ëª…í’ˆ êµ¬ë§¤ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_delivery': 'ë°°ë‹¬ ì´ìš© ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_golf': 'ê³¨í”„ ê´€ë ¨ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_highincome': 'ê³ ì†Œë“ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_int_wedding': 'ê²°í˜¼ ì¤€ë¹„ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_ind_beauty': 'ë¯¸ìš© ì„œë¹„ìŠ¤ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_ind_cosmetic': 'ë·°í‹° ì œí’ˆ ì˜ˆì¸¡ìŠ¤ì½”ì–´',
                'sc_ind_finance': 'ê¸ˆìœµ ì„œë¹„ìŠ¤ ì˜ˆì¸¡ìŠ¤ì½”ì–´'
            },
            flags: {
                'fi_npay_age20': '20ëŒ€',
                'fi_npay_age30': '30ëŒ€',
                'fi_npay_age40': '40ëŒ€',
                'fi_npay_genderf': 'ì—¬ì„±',
                'fi_npay_genderm': 'ë‚¨ì„±',
                'fi_npay_membershipnormal': 'í”ŒëŸ¬ìŠ¤ë©¤ë²„ì‹­ ê°€ì…',
                'fi_npay_myassetreg': 'ë‚´ìì‚° ì„œë¹„ìŠ¤ ì—°ë™',
                'fi_npay_creditcheck': 'ì‹ ìš©ì¡°íšŒ ì„œë¹„ìŠ¤ ê°€ì…'
            }
        };

        // íŒ€ë³„ ì¶”ì²œ ì§ˆë¬¸ ì •ì˜
        const TEAM_QUESTIONS = {
            'financial-content': {
                name: 'ì •ì„ ì˜ë‹˜',
                role: 'ê¸ˆìœµ ì»¨í…ì¸  (ë¨¸ë‹ˆìŠ¤í† ë¦¬)',
                icon: 'ğŸ’°',
                questions: [
                    {
                        text: 'ê³ ì†Œë“ì¸µ ì¤‘ íˆ¬ì ê´€ì‹¬ë„ê°€ ë†’ì€ ê³ ê° ì°¾ì•„ì¤˜',
                        description: 'ë¨¸ë‹ˆìŠ¤í† ë¦¬ íˆ¬ì ì½˜í…ì¸ ì— ê´€ì‹¬ì„ ê°€ì§ˆ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê³ ê°êµ° ë¶„ì„',
                        tags: ['íˆ¬ì', 'ê³ ì†Œë“', 'ë¨¸ë‹ˆìŠ¤í† ë¦¬']
                    },
                    {
                        text: '20-30ëŒ€ ì—¬ì„± ì¤‘ ê°€ê³„ë¶€ ê´€ë¦¬ì— ê´€ì‹¬ì´ ë§ì€ ê³ ê°',
                        description: 'ê°€ê³„ë¶€ ì‘ì„± ë° ê°€ê³„ ê´€ë¦¬ ì½˜í…ì¸  íƒ€ê²Ÿ ê³ ê° ë°œêµ´',
                        tags: ['ê°€ê³„ë¶€', '20-30ëŒ€', 'ì—¬ì„±']
                    },
                    {
                        text: 'ëŒ€ì¶œ ê²½í—˜ì´ ìˆìœ¼ë©´ì„œ ê¸ˆìœµ ì •ë³´ì— ê´€ì‹¬ì´ ë†’ì€ ê³ ê°',
                        description: 'ëŒ€ì¶œ ê´€ë ¨ ê¸ˆìœµ êµìœ¡ ì½˜í…ì¸  ìˆ˜ìš”ì¸µ ë¶„ì„',
                        tags: ['ëŒ€ì¶œ', 'ê¸ˆìœµêµìœ¡', 'ì½˜í…ì¸ ']
                    },
                    {
                        text: 'ì ê¸ˆ/ì˜ˆê¸ˆ ê°œì„¤ ê²½í—˜ì´ ìˆëŠ” ê³ ê° ì¤‘ ì¬í…Œí¬ ê´€ì‹¬êµ°',
                        description: 'ì €ì¶• ìƒí’ˆ ë¹„êµ ë° ì¬í…Œí¬ ì½˜í…ì¸  íƒ€ê²Ÿ ê³ ê°',
                        tags: ['ì ê¸ˆ', 'ì˜ˆê¸ˆ', 'ì¬í…Œí¬']
                    }
                ]
            },
            'member-planning': {
                name: 'ë°•ì§€ì˜ë‹˜',
                role: 'íšŒì› í”Œë˜ë‹',
                icon: 'ğŸ‘¥',
                questions: [
                    {
                        text: 'í”ŒëŸ¬ìŠ¤ ë©¤ë²„ì‹­ ê°€ì… ê°€ëŠ¥ì„±ì´ ë†’ì€ ê³ ê°',
                        description: 'ë©¤ë²„ì‹­ í˜œíƒ í™œìš©ë„ê°€ ë†’ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê³ ê°êµ° ë¶„ì„',
                        tags: ['ë©¤ë²„ì‹­', 'ê°€ì…ì „í™˜', 'í˜œíƒ']
                    },
                    {
                        text: 'ìµœê·¼ 3ê°œì›” ê°„ í™œë™ì´ ê°ì†Œí•œ ê¸°ì¡´ íšŒì›',
                        description: 'íšŒì› ì´íƒˆ ë°©ì§€ ë° ì¬í™œì„±í™” ëŒ€ìƒ ê³ ê° ì‹ë³„',
                        tags: ['íšŒì›ì´íƒˆ', 'ì¬í™œì„±í™”', 'ë¦¬í…ì…˜']
                    },
                    {
                        text: 'ë„¤ì´ë²„í˜ì´ ì‚¬ìš© ë¹ˆë„ê°€ ë†’ì€ ê³ ê°',
                        description: 'í˜ì´ ì„œë¹„ìŠ¤ ì¶©ì„±ë„ê°€ ë†’ì€ í•µì‹¬ ê³ ê°ì¸µ ë¶„ì„',
                        tags: ['ë„¤ì´ë²„í˜ì´', 'ì¶©ì„±ë„', 'í™œì„±ì‚¬ìš©ì']
                    },
                    {
                        text: 'ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ì—ì„œ ê²°ì œí•˜ëŠ” ê³ ê°',
                        description: 'ì¢…í•©ì ì¸ ì„œë¹„ìŠ¤ ì´ìš© íŒ¨í„´ì„ ë³´ì´ëŠ” ê³ ê° íŠ¹ì„± ë¶„ì„',
                        tags: ['ë‹¤ì–‘ì„±', 'ê²°ì œíŒ¨í„´', 'ì¢…í•©ì´ìš©']
                    }
                ]
            },
            'myasset': {
                name: 'ê¹€ì •í¬ë‹˜',
                role: 'ë‚´ìì‚° í”Œë˜ë‹ (ë§ˆì´ë°ì´í„°)',
                icon: 'ğŸ¦',
                questions: [
                    {
                        text: 'ë‚´ìì‚° ì„œë¹„ìŠ¤ ì—°ë™ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê³ ê°',
                        description: 'ë§ˆì´ë°ì´í„° ì„œë¹„ìŠ¤ ì´ìš© ì˜í–¥ì´ ë†’ì€ ê³ ê°êµ° ë°œêµ´',
                        tags: ['ë§ˆì´ë°ì´í„°', 'ë‚´ìì‚°', 'ì—°ë™']
                    },
                    {
                        text: 'ë‹¤ìˆ˜ì˜ ê¸ˆìœµê¸°ê´€ ì´ìš© ê³ ê°',
                        description: 'ìì‚° í†µí•© ê´€ë¦¬ ë‹ˆì¦ˆê°€ ìˆëŠ” ê³ ê° ì‹ë³„',
                        tags: ['í†µí•©ê´€ë¦¬', 'ë‹¤ìˆ˜ê³„ì¢Œ', 'ìì‚°ê´€ë¦¬']
                    },
                    {
                        text: 'ì‹ ìš©ì¡°íšŒ ì„œë¹„ìŠ¤ ê°€ì… ê³ ê°ì˜ ìì‚° ê´€ë¦¬ íŒ¨í„´',
                        description: 'ì‹ ìš©ê´€ë¦¬ì— ê´€ì‹¬ì´ ë†’ì€ ê³ ê°ì˜ ìì‚° ê´€ë¦¬ í–‰íƒœ ë¶„ì„',
                        tags: ['ì‹ ìš©ì¡°íšŒ', 'ìì‚°ê´€ë¦¬', 'ê¸ˆìœµê´€ë¦¬']
                    },
                    {
                        text: 'ì •ê¸°ì ì¸ íˆ¬ì í™œë™ì„ í•˜ëŠ” ê³ ê°',
                        description: 'í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ ì„œë¹„ìŠ¤ ìˆ˜ìš”ê°€ ë†’ì€ ê³ ê°êµ°',
                        tags: ['íˆ¬ì', 'í¬íŠ¸í´ë¦¬ì˜¤', 'ì •ê¸°íˆ¬ì']
                    }
                ]
            },
            'advertising': {
                name: 'ê³ ì‹œí˜„ë‹˜',
                role: 'AD ì„œë¹„ìŠ¤',
                icon: 'ğŸ“¢',
                questions: [
                    {
                        text: 'ì˜¨ë¼ì¸ ì‡¼í•‘ ë¹ˆë„ê°€ ë†’ì€ ê³ ê°',
                        description: 'ê´‘ê³  ë…¸ì¶œ íš¨ê³¼ê°€ ë†’ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” í™œì„± ì‡¼í•‘ ê³ ê°',
                        tags: ['ì˜¨ë¼ì¸ì‡¼í•‘', 'ê´‘ê³ íš¨ê³¼', 'í™œì„±ê³ ê°']
                    },
                    {
                        text: '20-30ëŒ€ ì¤‘ ë·°í‹°/íŒ¨ì…˜ ê´€ì‹¬ì‚¬ê°€ ë†’ì€ ê³ ê°',
                        description: 'ë·°í‹°/íŒ¨ì…˜ ê´‘ê³  íƒ€ê²ŸíŒ…ì— ì í•©í•œ ê³ ê°êµ° ë¶„ì„',
                        tags: ['ë·°í‹°', 'íŒ¨ì…˜', '20-30ëŒ€']
                    },
                    {
                        text: 'ë¸Œëœë“œ ì¶©ì„±ë„ê°€ ë†’ì€ ê³ ê°',
                        description: 'íŠ¹ì • ë¸Œëœë“œì— ëŒ€í•œ ì¬êµ¬ë§¤ìœ¨ì´ ë†’ì€ ê³ ê° íŠ¹ì„±',
                        tags: ['ë¸Œëœë“œ', 'ì¶©ì„±ë„', 'ì¬êµ¬ë§¤']
                    },
                    {
                        text: 'ê³„ì ˆë³„ ì†Œë¹„ íŒ¨í„´ì´ ëšœë ·í•œ ê³ ê°',
                        description: 'ì‹œì¦Œë³„ ê´‘ê³  ìº í˜ì¸ ìµœì í™”ë¥¼ ìœ„í•œ ê³ ê° ë¶„ì„',
                        tags: ['ê³„ì ˆì„±', 'ì†Œë¹„íŒ¨í„´', 'ìº í˜ì¸']
                    }
                ]
            },
            'payment': {
                name: 'ìµœë™ì£¼ë‹˜',
                role: 'ê²°ì œ ë°ì´í„°',
                icon: 'ğŸ’³',
                questions: [
                    {
                        text: 'ê²°ì œ ìˆ˜ë‹¨ ë‹¤ì–‘ì„±ì´ ë†’ì€ ê³ ê°',
                        description: 'ì—¬ëŸ¬ ê²°ì œ ìˆ˜ë‹¨ì„ í™œìš©í•˜ëŠ” ê³ ê°ì˜ ê²°ì œ íŒ¨í„´ ë¶„ì„',
                        tags: ['ê²°ì œìˆ˜ë‹¨', 'ë‹¤ì–‘ì„±', 'ê²°ì œíŒ¨í„´']
                    },
                    {
                        text: 'ê³ ì•¡ ê²°ì œë¥¼ ìì£¼ í•˜ëŠ” ê³ ê°',
                        description: 'í”„ë¦¬ë¯¸ì—„ ê²°ì œ ì„œë¹„ìŠ¤ ìˆ˜ìš”ê°€ ë†’ì€ ê³ ê°êµ°',
                        tags: ['ê³ ì•¡ê²°ì œ', 'í”„ë¦¬ë¯¸ì—„', 'VIP']
                    },
                    {
                        text: 'í•´ì™¸ ê²°ì œ ê²½í—˜ì´ ìˆëŠ” ê³ ê°',
                        description: 'í•´ì™¸ ê²°ì œ ì„œë¹„ìŠ¤ ê°œì„  ë° í™•ëŒ€ë¥¼ ìœ„í•œ ê³ ê° ë¶„ì„',
                        tags: ['í•´ì™¸ê²°ì œ', 'ê¸€ë¡œë²Œ', 'ì—¬í–‰']
                    },
                    {
                        text: 'ì •ê¸° ê²°ì œ ì„œë¹„ìŠ¤ ì´ìš© ê³ ê°',
                        description: 'êµ¬ë… ì„œë¹„ìŠ¤ ë° ì •ê¸° ê²°ì œ í™œìš©ë„ê°€ ë†’ì€ ê³ ê°',
                        tags: ['ì •ê¸°ê²°ì œ', 'êµ¬ë…', 'ìë™ê²°ì œ']
                    }
                ]
            },
            'loan': {
                name: 'ì´ìŠ¹í•œë‹˜',
                role: 'ëŒ€ì¶œ ì„œë¹„ìŠ¤',
                icon: 'ğŸ ',
                questions: [
                    {
                        text: 'ëŒ€ì¶œ ë‹ˆì¦ˆê°€ ë†’ì€ ê³ ê°êµ°',
                        description: 'ì‹ ìš©ëŒ€ì¶œ ìƒí’ˆ ì œì•ˆì— ì í•©í•œ ê³ ê° ë°œêµ´',
                        tags: ['ëŒ€ì¶œ', 'ì‹ ìš©ëŒ€ì¶œ', 'ê¸ˆìœµìƒí’ˆ']
                    },
                    {
                        text: 'ì£¼íƒ êµ¬ë§¤ ê´€ë ¨ í™œë™ì´ ìˆëŠ” ê³ ê°',
                        description: 'ì£¼íƒë‹´ë³´ëŒ€ì¶œ ìˆ˜ìš”ê°€ ìˆëŠ” ê³ ê° ì‹ë³„',
                        tags: ['ì£¼íƒ', 'ë¶€ë™ì‚°', 'ë‹´ë³´ëŒ€ì¶œ']
                    },
                    {
                        text: 'ê¸°ì¡´ ëŒ€ì¶œ ê³ ê° ì¤‘ ì¶”ê°€ ëŒ€ì¶œ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê³ ê°',
                        description: 'ëŒ€í™˜ëŒ€ì¶œ ë˜ëŠ” í•œë„ ì¦ì•¡ ëŒ€ìƒ ê³ ê° ë¶„ì„',
                        tags: ['ê¸°ì¡´ê³ ê°', 'ëŒ€í™˜ëŒ€ì¶œ', 'í•œë„ì¦ì•¡']
                    },
                    {
                        text: 'ì‹ ìš©ë“±ê¸‰ì´ ì–‘í˜¸í•˜ë©´ì„œ ì†Œë“ì´ ì•ˆì •ì ì¸ ê³ ê°',
                        description: 'ìš°ëŒ€ ê¸ˆë¦¬ ëŒ€ì¶œ ìƒí’ˆ íƒ€ê²Ÿ ê³ ê° ë°œêµ´',
                        tags: ['ì‹ ìš©ë“±ê¸‰', 'ì†Œë“ì•ˆì •', 'ìš°ëŒ€ê¸ˆë¦¬']
                    }
                ]
            }
        };

        let OPENAI_API_KEY = '';
        let currentFilter = 'all';

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            const savedApiKey = localStorage.getItem('openai_api_key');
            if (savedApiKey) {
                OPENAI_API_KEY = savedApiKey;
                document.getElementById('apiKeyInput').value = savedApiKey;
                updateApiKeyStatus(true, 'âœ… API í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                enableQuerySection();
                // API í‚¤ê°€ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ë“œë¡­ë‹¤ìš´ ì—´ê¸°
                const content = document.getElementById('apiKeyContent');
                const icon = document.getElementById('toggleIcon');
                content.classList.remove('collapsed');
                icon.classList.remove('collapsed');
            } else {
                disableQuerySection();
            }
            
            // ì»¬ëŸ¼ ë¸Œë¼ìš°ì € ì´ˆê¸°í™”
            generateColumnCards();
        });

        // íƒ­ ì „í™˜
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // ì»¬ëŸ¼ ì¹´ë“œ ìƒì„±
        function generateColumnCards() {
            const container = document.getElementById('columnCards');
            container.innerHTML = '';
            
            Object.entries(CDP_COLUMNS).forEach(([category, columns]) => {
                Object.entries(columns).forEach(([columnName, description]) => {
                    const card = createColumnCard(columnName, description, category);
                    container.appendChild(card);
                });
            });
        }

        function createColumnCard(columnName, description, category) {
            const card = document.createElement('div');
            card.className = 'column-card';
            card.setAttribute('data-category', category);
            card.setAttribute('data-name', columnName.toLowerCase());
            card.setAttribute('data-description', description.toLowerCase());
            
            const typeInfo = getColumnTypeInfo(columnName);
            
            card.innerHTML = `
                <div class="column-card-header">
                    <div>
                        <div class="column-name">${columnName}</div>
                    </div>
                    <div class="column-category">${getCategoryLabel(category)}</div>
                </div>
                <div class="column-description">${description}</div>
                <div class="column-meta">
                    <div class="column-type">
                        <span>${typeInfo.icon}</span>
                        <span>${typeInfo.type}</span>
                    </div>
                    <div>í™œìš©ë„: ${getUsageLevel()}</div>
                </div>
            `;
            
            card.onclick = () => useColumnInQuery(columnName);
            
            return card;
        }

        function getCategoryLabel(category) {
            const labels = {
                interests: 'ê´€ì‹¬ì‚¬',
                industries: 'ì—…ì¢…ë³„',
                scores: 'ì˜ˆì¸¡ì ìˆ˜',
                flags: 'í”Œë˜ê·¸'
            };
            return labels[category] || category;
        }

        function getColumnTypeInfo(columnName) {
            if (columnName.startsWith('sc_')) {
                return { icon: 'ğŸ“Š', type: 'Double (0-1)' };
            } else if (columnName.startsWith('fi_')) {
                return { icon: 'ğŸ·ï¸', type: 'Boolean' };
            } else {
                return { icon: 'ğŸ“…', type: 'Date' };
            }
        }

        function getUsageLevel() {
            const levels = ['ë†’ìŒ', 'ë³´í†µ', 'ë‚®ìŒ'];
            return levels[Math.floor(Math.random() * 3)];
        }

        // ì»¬ëŸ¼ í•„í„°ë§
        function filterByCategory(category) {
            currentFilter = category;
            
            // í•„í„° ë²„íŠ¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // ì¹´ë“œ í•„í„°ë§
            const cards = document.querySelectorAll('.column-card');
            cards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterColumns() {
            const searchTerm = document.getElementById('columnSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.column-card');
            
            cards.forEach(card => {
                const name = card.getAttribute('data-name');
                const description = card.getAttribute('data-description');
                const category = card.getAttribute('data-category');
                
                const matchesSearch = name.includes(searchTerm) || description.includes(searchTerm);
                const matchesCategory = currentFilter === 'all' || category === currentFilter;
                
                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function useColumnInQuery(columnName) {
            switchTab('analyzer');
            document.getElementById('queryInput').value = `${columnName} ì»¬ëŸ¼ì„ í™œìš©í•œ ê³ ê° ì„¸ê·¸ë¨¼í…Œì´ì…˜ ë¶„ì„í•´ì¤˜`;
            document.getElementById('queryInput').focus();
        }

        // íŒ€ë³„ ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ
        function showTeamScenarios(teamName) {
            // ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.team-scenarios').forEach(scenario => {
                scenario.classList.remove('active');
            });
            
            // ì„ íƒëœ íŒ€ ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ
            document.getElementById(teamName + 'Scenarios').classList.add('active');
        }

        function useTeamScenario(query) {
            switchTab('analyzer');
            document.getElementById('queryInput').value = query;
            processQuery();
        }

        // íŒ€ë³„ ì¶”ì²œ ì§ˆë¬¸ í‘œì‹œ
        function showTeamQuestions(teamId) {
            const teamData = TEAM_QUESTIONS[teamId];
            if (!teamData) return;
            
            const questionsContainer = document.getElementById('teamQuestions');
            
            // ì¶”ì²œ ì§ˆë¬¸ ì„¹ì…˜ ìƒì„±
            questionsContainer.innerHTML = `
                <h3>${teamData.icon} ${teamData.name} - ${teamData.role}</h3>
                <div class="question-list">
                    ${teamData.questions.map(question => `
                        <div class="question-card" onclick="useTeamQuestion('${question.text}')">
                            <div class="question-text">${question.text}</div>
                            <div class="question-desc">${question.description}</div>
                            <div class="question-tags">
                                ${question.tags.map(tag => `<span class="question-tag">${tag}</span>`).join('')}
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // ì¶”ì²œ ì§ˆë¬¸ ì˜ì—­ í‘œì‹œ
            questionsContainer.classList.add('active');
        }

        // ì¶”ì²œ ì§ˆë¬¸ ì‚¬ìš©
        function useTeamQuestion(question) {
            switchTab('analyzer');
            document.getElementById('queryInput').value = question;
            document.getElementById('queryInput').focus();
        }

        // API í‚¤ ì„¹ì…˜ í† ê¸€
        function toggleApiKeySection() {
            const content = document.getElementById('apiKeyContent');
            const icon = document.getElementById('toggleIcon');
            
            content.classList.toggle('collapsed');
            icon.classList.toggle('collapsed');
        }

        // ê¸°ì¡´ ì¿¼ë¦¬ ë¶„ì„ê¸° í•¨ìˆ˜ë“¤
        function saveApiKey() {
            const apiKey = document.getElementById('apiKeyInput').value.trim();
            
            if (!apiKey) {
                updateApiKeyStatus(false, 'âŒ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (!apiKey.startsWith('sk-')) {
                updateApiKeyStatus(false, 'âŒ ì˜¬ë°”ë¥¸ OpenAI API í‚¤ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. (sk-ë¡œ ì‹œì‘í•´ì•¼ í•¨)');
                return;
            }

            testApiKey(apiKey).then(isValid => {
                if (isValid) {
                    OPENAI_API_KEY = apiKey;
                    localStorage.setItem('openai_api_key', apiKey);
                    updateApiKeyStatus(true, 'âœ… API í‚¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    enableQuerySection();
                    // API í‚¤ ì €ì¥ ì„±ê³µ ì‹œ 3ì´ˆ í›„ ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
                    setTimeout(() => {
                        const content = document.getElementById('apiKeyContent');
                        const icon = document.getElementById('toggleIcon');
                        content.classList.add('collapsed');
                        icon.classList.add('collapsed');
                    }, 3000);
                } else {
                    updateApiKeyStatus(false, 'âŒ ìœ íš¨í•˜ì§€ ì•Šì€ API í‚¤ì…ë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
                    disableQuerySection();
                }
            }).catch(error => {
                updateApiKeyStatus(false, 'âŒ API í‚¤ ê²€ì¦ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                disableQuerySection();
            });
        }

        async function testApiKey(apiKey) {
            try {
                const response = await fetch('https://api.openai.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`
                    }
                });

                return response.ok;
            } catch (error) {
                console.error('API í‚¤ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);
                return false;
            }
        }

        function updateApiKeyStatus(success, message) {
            const statusDiv = document.getElementById('apiKeyStatus');
            statusDiv.style.display = 'block';
            statusDiv.className = 'api-key-status ' + (success ? 'success' : 'error');
            statusDiv.textContent = message;
        }

        function enableQuerySection() {
            document.getElementById('querySection').classList.remove('disabled');
            document.getElementById('queryInput').disabled = false;
            document.getElementById('queryButton').disabled = false;
        }

        function disableQuerySection() {
            document.getElementById('querySection').classList.add('disabled');
            document.getElementById('queryInput').disabled = true;
            document.getElementById('queryButton').disabled = true;
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                processQuery();
            }
        }
        
        function setExampleQuery(query) {
            document.getElementById('queryInput').value = query;
            document.getElementById('queryInput').focus();
        }
        
        async function processQuery() {
            if (!OPENAI_API_KEY) {
                alert('ë¨¼ì € OpenAI API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.');
                return;
            }

            const query = document.getElementById('queryInput').value.trim();
            
            if (!query) {
                alert('ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const button = document.getElementById('queryButton');
            button.disabled = true;
            button.textContent = 'ë¶„ì„ ì¤‘...';
            
            document.getElementById('loadingSection').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';
            
            try {
                const result = await analyzeQueryWithAI(query);
                displayResults(result);
            } catch (error) {
                console.error('Error:', error);
                displayError('AI ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            } finally {
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('resultsContainer').style.display = 'block';
                button.disabled = false;
                button.textContent = 'ğŸ” ë¶„ì„';
            }
        }
        
        async function analyzeQueryWithAI(userQuery) {
            const prompt = createAnalysisPrompt(userQuery);
            
            const response = await fetch('https://api.openai.com/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${OPENAI_API_KEY}`
                },
                body: JSON.stringify({
                    model: 'gpt-4o-2024-11-20',
                    messages: [
                        {
                            role: 'system',
                            content: `ë‹¹ì‹ ì€ CDP(Customer Data Platform) ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìì—°ì–´ ì§ˆë¬¸ì„ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ê³ ê° ì„¸ê·¸ë¨¼í…Œì´ì…˜ ì „ëµì„ ì œê³µí•©ë‹ˆë‹¤.

ë‹¤ìŒ CDP ì»¬ëŸ¼ë“¤ì„ í™œìš©í•˜ì—¬ ë¶„ì„í•´ì£¼ì„¸ìš”:
${JSON.stringify(CDP_COLUMNS, null, 2)}

ì‘ë‹µì€ ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì œê³µí•´ì£¼ì„¸ìš”. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ëŠ” í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”:
{
    "query_analysis": "ì‚¬ìš©ì ì§ˆë¬¸ ë¶„ì„ ë‚´ìš©",
    "target_description": "íƒ€ê²Ÿ ê³ ê°êµ° ì„¤ëª…",
    "recommended_columns": [
        {
            "column": "ì»¬ëŸ¼ëª…",
            "description": "ì»¬ëŸ¼ ì„¤ëª…",
            "condition": "ì¶”ì²œ ì¡°ê±´ (ì˜ˆ: > 0.7, IS NOT NULL ë“±)",
            "priority": "high|medium|low",
            "reasoning": "ì„ íƒ ì´ìœ "
        }
    ],
    "sql_query": "SELECT ë¬¸ìœ¼ë¡œ ëœ ì¿¼ë¦¬",
    "business_insights": [
        "ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ 1",
        "ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ 2"
    ],
    "estimated_target_size": "ì˜ˆìƒ íƒ€ê²Ÿ ê·œëª¨ (%)",
    "marketing_recommendations": [
        "ë§ˆì¼€íŒ… ì¶”ì²œì‚¬í•­ 1",
        "ë§ˆì¼€íŒ… ì¶”ì²œì‚¬í•­ 2"
    ]
}`
                        },
                        {
                            role: 'user',
                            content: userQuery
                        }
                    ],
                    temperature: 0.7,
                    max_tokens: 2000
                })
            });
            
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(`OpenAI API Error (${response.status}): ${errorData.error.message}`);
            }
            
            const data = await response.json();
            const aiResponse = data.choices[0].message.content;
            
            try {
                return JSON.parse(aiResponse);
            } catch (parseError) {
                console.error('JSON íŒŒì‹± ì‹¤íŒ¨:', parseError);
                console.log('AI ì‘ë‹µ:', aiResponse);
                throw new Error('AI ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. JSON í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        }
        
        function createAnalysisPrompt(query) {
            return `ì‚¬ìš©ì ì§ˆë¬¸: "${query}"

ìœ„ ì§ˆë¬¸ì„ ë¶„ì„í•˜ì—¬ ë‹¤ìŒì„ ì œê³µí•´ì£¼ì„¸ìš”:

1. ì§ˆë¬¸ì˜ í•µì‹¬ ìš”êµ¬ì‚¬í•­ ë¶„ì„
2. íƒ€ê²Ÿ ê³ ê°êµ°ì„ ì •ì˜í•˜ê¸° ìœ„í•œ ìµœì ì˜ CDP ì»¬ëŸ¼ ì¡°í•© ì¶”ì²œ
3. ê° ì»¬ëŸ¼ì„ ì„ íƒí•œ ì´ìœ ì™€ ì¶”ì²œ ì¡°ê±´ê°’
4. ì‹¤í–‰ ê°€ëŠ¥í•œ SQL ì¿¼ë¦¬
5. ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ ë° ë§ˆì¼€íŒ… í™œìš© ë°©ì•ˆ

CDP ë°ì´í„°ì˜ íŠ¹ì„±:
- fa_int_*: ê´€ì‹¬ì‚¬ ê¸°ë°˜ í–‰ë™ ì§€í‘œ (date íƒ€ì…, ì´ë²¤íŠ¸ ë°œìƒì¼)
- fa_ind_*: ì—…ì¢…ë³„ ê²°ì œ ì§€í‘œ (date íƒ€ì…, ê²°ì œì¼)
- sc_*: AI ì˜ˆì¸¡ ìŠ¤ì½”ì–´ (0-1 ë²”ìœ„ì˜ double íƒ€ì…)
- fi_npay_*: í”Œë˜ê·¸ ì§€í‘œ (boolean íƒ€ì…)

ë°˜ë“œì‹œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”.`;
        }
        
        function displayResults(result) {
            const resultsDiv = document.getElementById('analysisResults');
            
            resultsDiv.innerHTML = `
                <div class="analysis-result">
                    <div class="analysis-title">ğŸ¤– AI ì§ˆë¬¸ ë¶„ì„ ê²°ê³¼</div>
                    <p>${result.query_analysis}</p>
                </div>
                
                <div class="analysis-result">
                    <div class="analysis-title">ğŸ¯ íƒ€ê²Ÿ ê³ ê°êµ° ì •ì˜</div>
                    <p>${result.target_description}</p>
                </div>
                
                <div class="stats-section">
                    <div class="stat-card">
                        <div class="stat-number">${result.recommended_columns.length}</div>
                        <div class="stat-label">AI ì¶”ì²œ ì»¬ëŸ¼ ìˆ˜</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${result.estimated_target_size}</div>
                        <div class="stat-label">ì˜ˆìƒ íƒ€ê²Ÿ ê·œëª¨</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${result.marketing_recommendations.length}</div>
                        <div class="stat-label">AI ë§ˆì¼€íŒ… ì œì•ˆ</div>
                    </div>
                </div>
                
                <div class="analysis-result">
                    <div class="analysis-title">ğŸ§  AI ì¶”ì²œ CDP ì»¬ëŸ¼ ì¡°í•©</div>
                    <div class="column-recommendations">
                        ${generateColumnRecommendations(result.recommended_columns)}
                    </div>
                </div>
                
                <div class="reasoning-section">
                    <h4>ğŸ” AI ë¶„ì„ ê·¼ê±°</h4>
                    ${result.recommended_columns.map(col => `
                        <div class="reasoning-item">
                            <strong>${col.column}:</strong> ${col.reasoning}
                        </div>
                    `).join('')}
                </div>
                
                <div class="sql-section">
                    <h4>ğŸ“ AI ìƒì„± SQL ì¿¼ë¦¬</h4>
                    <div class="sql-query">${result.sql_query}</div>
                    <button class="copy-button" onclick="copyToClipboard(\`${result.sql_query.replace(/`/g, '\\`')}\`)">
                        ğŸ“‹ ì¿¼ë¦¬ ë³µì‚¬
                    </button>
                </div>
                
                <div class="analysis-result">
                    <div class="analysis-title">ğŸ’¡ AI ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸</div>
                    ${result.business_insights.map(insight => `<p>â€¢ ${insight}</p>`).join('')}
                </div>
                
                <div class="analysis-result">
                    <div class="analysis-title">ğŸš€ AI ë§ˆì¼€íŒ… í™œìš© ë°©ì•ˆ</div>
                    ${result.marketing_recommendations.map(rec => `<p>â€¢ ${rec}</p>`).join('')}
                </div>
                
                <div class="export-section">
                    <h4>ğŸ“Š ê²°ê³¼ í™œìš©</h4>
                    <button class="export-button" onclick="copyToClipboard(\`${result.sql_query.replace(/`/g, '\\`')}\`)">
                        SQL ë³µì‚¬
                    </button>
                    <button class="export-button" onclick="copyAnalysisResults()">
                        ì „ì²´ ê²°ê³¼ ë³µì‚¬
                    </button>
                    <button class="export-button" onclick="shareResults()">
                        ê²°ê³¼ ê³µìœ 
                    </button>
                </div>
            `;
        }
        
        function generateColumnRecommendations(columns) {
            const grouped = {
                high: columns.filter(c => c.priority === 'high'),
                medium: columns.filter(c => c.priority === 'medium'),
                low: columns.filter(c => c.priority === 'low')
            };
            
            return Object.entries(grouped).map(([priority, cols]) => {
                if (cols.length === 0) return '';
                
                const priorityLabels = {
                    high: 'ğŸ”¥ í•µì‹¬ ì§€í‘œ',
                    medium: 'â­ ë³´ì¡° ì§€í‘œ',
                    low: 'ğŸ’¡ ì°¸ê³  ì§€í‘œ'
                };
                
                return `
                    <div class="column-group">
                        <h4>${priorityLabels[priority]}</h4>
                        ${cols.map(col => `
                            <div class="column-item">
                                <div>
                                    <div class="column-name">${col.column}</div>
                                    <div style="font-size: 0.9em; color: #6c757d; margin-top: 2px;">
                                        ${col.description}
                                    </div>
                                    <div style="font-size: 0.8em; color: #4CAF50; margin-top: 2px;">
                                        ì¡°ê±´: ${col.condition}
                                    </div>
                                </div>
                                <div class="column-score">${priority.toUpperCase()}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }).join('');
        }
        
        function displayError(message) {
            const resultsDiv = document.getElementById('analysisResults');
            resultsDiv.innerHTML = `
                <div class="error-message">
                    <h4>âš ï¸ ì˜¤ë¥˜ ë°œìƒ</h4>
                    <p>${message}</p>
                    <p>ë‹¤ì‹œ ì‹œë„í•˜ì‹œê±°ë‚˜ API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
                </div>
            `;
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }
        
        function copyAnalysisResults() {
            const results = document.getElementById('analysisResults');
            const text = results.innerText;
            copyToClipboard(text);
        }
        
        function shareResults() {
            if (navigator.share) {
                navigator.share({
                    title: 'CDP AI ë¶„ì„ ê²°ê³¼',
                    text: 'ì‹¤ì œ AIê°€ ë¶„ì„í•œ ê³ ê° ì„¸ê·¸ë¨¼í…Œì´ì…˜ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.',
                    url: window.location.href
                });
            } else {
                copyToClipboard(window.location.href);
                alert('í˜ì´ì§€ URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }
        }
    </script>
</body>
</html>